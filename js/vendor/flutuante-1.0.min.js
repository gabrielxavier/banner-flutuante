$.flutuante=function(e,t){var n={selector:e,defaults:{},vars:{visible:false,initialized:false,viewed:false},functions:{}};n.defaults={animationSpeed:.5,topDistance:"100",overlaySelector:"overlay",actionSelector:"action",closeSelector:"close",closeText:"X",closeTimer:0,displayAuto:true,hideWhenView:false};$.extend(n.defaults,t);n.functions={init:function(){if(!$(n.selector).length){n.vars.exception="Não foi encontrado o elemento do float na página.";return n}else{n.functions.calc();$(window).resize(n.functions.calc);n.vars.initialized=true;if(n.defaults.hideWhenView){if(!n.functions._getCookie(n.defaults.hideWhenView)){$("."+n.defaults.actionSelector).on("click",function(){n.functions._setCookie(n.defaults.hideWhenView,true);n.vars.viewed=true})}else{n.vars.viewed=true}}if(n.defaults.displayAuto&&n.vars.viewed==false){n.functions.open()}return n}},open:function(){if(n.vars.initialized==true&&n.vars.viewed==false){$(n.selector).prepend('<a href="javascript:void(0);" class="'+n.defaults.closeSelector+'">'+n.defaults.closeText+"</a>");$("body").append('<div class="'+n.defaults.overlaySelector+'"></div>').find("."+n.defaults.overlaySelector).fadeIn(1e3*n.defaults.animationSpeed).on("click",n.functions.close);$(n.selector).animate({top:n.defaults.topDistance},1e3*n.defaults.animationSpeed).find("."+n.defaults.closeSelector).on("click",n.functions.close);if(n.defaults.closeTimer>0){n.defaults.timer=setTimeout(n.functions.close,n.defaults.closeTimer*1e3)}n.vars.visible=true;return true}{n.vars.exception="Não foi possível abrir o float pois ele não foi inicializado ou já foi visualizado.";return false}},close:function(){if(n.vars.visible){$(n.selector).animate({top:"-150%"},1e3*n.defaults.animationSpeed);$("."+n.defaults.overlaySelector).fadeOut(1e3*n.defaults.animationSpeed,function(){$("."+n.defaults.overlaySelector).remove()});n.vars.visible=false;return true}else{n.vars.exception="O float já está fechado.";return false}},calc:function(){n.vars.screenSize=$(window).width();if(n.vars.screenSize<800){$(n.selector).removeClass("desktop").addClass("mobile");n.vars.dispositive="mobile"}else{$(n.selector).css("margin-left",-$(n.selector).width()/2);$(n.selector).removeClass("mobile").addClass("desktop");n.vars.dispositive="desktop"}},_setCookie:function(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var i=escape(t)+(n==null?"":"; expires="+r.toUTCString());document.cookie=e+"="+i},_getCookie:function(e){var t=document.cookie;var n=t.indexOf(" "+e+"=");if(n==-1){n=t.indexOf(e+"=")}if(n==-1){t=null}else{n=t.indexOf("=",n)+1;var r=t.indexOf(";",n);if(r==-1){r=t.length}t=unescape(t.substring(n,r))}return t}};return n.functions.init()}